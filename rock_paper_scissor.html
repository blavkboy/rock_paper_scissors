<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script>
            let user_input;
            let signs = ['rock', 'paper', 'scissor'];
            let score = 0;
            function precedence(score, user_sign, computer_in, user_score)
            {
                user_sign = user_sign.toLowerCase();
                switch (user_sign)
                {
                    case "rock":
                        if (computer_in === 'paper')
                            console.log("You lose. Paper beats rock!");
                        else if (computer_in === 'rock')
                            console.log("Draw...");
                        else {
                            score++;
                            console.log("You win, rock beats scissor.");
                            }
                        break;
                    case "paper":
                        if (computer_in === 'scissor')
                            console.log("You lose. Scissor cuts paper.");
                        else if (computer_in === 'paper')
                            console.log("Draw...");
                        else {
                            score = 1;
                            console.log("You win, paper beats rock.");
                            }
                        break;
                    case "scissor":
                        if (computer_in === 'rock')
                            console.log("You lose. Rock crushes paper!");
                        else if (computer_in === 'scissor')
                            console.log("Draw...");
                        else {
                            score = 1;
                            console.log("You win!!! Scissor cuts paper!!!");
                            }
                        break;
                    default:
                        console.log("You lose automatically, invalid selection!");
                }
                return score;
            }
            function game(user_score)
            {
                if(score > 2)
                    console.log("You win!");
                else
                    console.log("Sorry, you lose!");
            }
            function computer_choice()
            {
                let choice = Math.floor(Math.random() * 3);
                return choice;
            }
            let again = 0;
            do {
                user_input = prompt("Rock, Paper or Scissor?");
                score = precedence(score, user_input, signs[computer_choice()]);
                again++;
                console.log(`User score: ${score}`);
            } while (again < 5);
            game(score);
        </script>
    </body>
</html>